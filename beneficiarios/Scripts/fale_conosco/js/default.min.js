function mascarasCampos() { $(".data").mask("99/99/9999"), $(".cpf").mask("999.999.999-99"), $(".telefone").mask("(99) 9999-9999"), $(".rg").mask("9.999.999"), $(".cep").mask("99.999-999"), $(".hora").mask("99:99"), $(".celular").mask("(99) 9999-9999?9").focusout(function (a) { var e, t, r; t = (e = a.currentTarget ? a.currentTarget : a.srcElement).value.replace(/\D/g, ""), (r = $(e)).unmask(), t.length > 10 ? r.mask("(99) 99999-999?9") : r.mask("(99) 9999-9999?9") }), $(".cpfcnpj").mask("999.999.999-99?99999").focusout(function (a) { var e, t, r; t = (e = a.currentTarget ? a.currentTarget : a.srcElement).value.replace(/\D/g, ""), (r = $(e)).unmask(), t.length > 11 ? r.mask("99.999.999/9999-99") : r.mask("999.999.999-99?99999") }), $(".btn-enviar").on("click", function () { var a = $(".categoria").val(), e = $(".tipo").val(); return null === a ? ($(".categoria").focus(), !1) : null !== e || ($(".tipo").focus(), !1) }) } function alerta(a, e) { BootstrapDialog.show({ title: a, message: e, type: BootstrapDialog.TYPE_SUCCESS }) } function limpaGeral() { $("#idFormIssue").each(function () { this.reset() }) } function DateNow() { var a = new Date, e = a.getDate(), t = a.getMonth() + 1, r = a.getFullYear(); return e < 10 && (e = "0" + e), t < 10 && (t = "0" + t), a = e + "/" + t + "/" + r } function alertaJQuery(a, e, t) { $("#dialogMsg").html(e), $("#dialog").dialog({ modal: !0, title: a, close: function (a, e) { !0 === t && location.reload() } }) } function recaptchaCallback() { var a = grecaptcha.getResponse(), e = $("#contacts-submit"); "" !== a ? e.attr("disabled", !1) : e.attr("disabled", "disabled") } function recaptchaExpired() { var a = grecaptcha.getResponse(), e = $("#contacts-submit"); "" !== a ? e.attr("disabled", !1) : e.attr("disabled", "disabled") } function post() { if ("" === grecaptcha.getResponse()) return alertaJQuery("Captcha!", "O captcha não foi checado, favor verificar!", !1), !1; $("#idFormIssue").submit(function (a) { a.preventDefault(); var e = "http://j4call.e-vida.org.br:8085/j4call/rest/services/issue/save"; console.log(e), $.ajax({ url: e, type: "post", dataType: "application/json", data: $("#idFormIssue").serialize(), complete: function (a) { var e = "<b>Protocolo:</b> " + JSON.parse(a.responseText).protocol + "<br><br><b>Data de abertura:</b> " + DateNow() + "<br><br>Prazo estimado 5 dias!!! A E-VIDA agradece o seu contato."; return limpaGeral(), alertaJQuery("Solicitação criada com sucesso! \n\n", e, !0), !0 }, error: function (a, e, t) { a.responseText; limpaGeral() } }) }) } $(document).ready(function () { mascarasCampos(), $(".carterinha").on("input", function (a) { $(this).val($(this).val().replace(/[^0-9-.]+$/, "")) }), $(".tipo-solicitante").on("change", function () { limpaGeral(), $("#div-form").show(); var a = $("#div-carterinha"); "1" === this.value && (a.show(), $("[name='code']").attr("required", !0)), "2" === this.value && (a.hide(), $("[name='code']").attr("required", !1)) }) });